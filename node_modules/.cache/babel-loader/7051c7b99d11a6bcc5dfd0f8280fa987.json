{"ast":null,"code":"import _toConsumableArray from\"/Users/williamgotterer/Development/code/Mod2/my-react-project/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/williamgotterer/Development/code/Mod2/my-react-project/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Route,Switch,useHistory}from\"react-router-dom\";import Home from\"./Home\";import Add from\"./Add\";import Favorites from\"./Favorites\";import NavBar from\"./NavBar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState({\"meals\":[{}]}),_useState2=_slicedToArray(_useState,2),randomRecipe=_useState2[0],setRandomRecipe=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),faveMeals=_useState4[0],setFaveMeals=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showVideo=_useState6[0],setShowVideo=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showRecipe=_useState8[0],setShowRecipe=_useState8[1];// const [savedRecipe, setSavedRecipe] = useState([])\nvar history=useHistory();console.log(history);useEffect(function(){fetch(\"https://www.themealdb.com/api/json/v1/1/random.php\").then(function(resp){return resp.json();}).then(function(recipe){return setRandomRecipe(recipe);});},[]);useEffect(function(){console.log(process.env.REACT_APP_API_URL);fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/meals\")).then(function(resp){return resp.json();}).then(function(savedFaves){return setFaveMeals(savedFaves);});},[]);function handleAddToFavorite(){var individualRecipe=randomRecipe[\"meals\"][0];var newMeal={\"idMeal\":individualRecipe.idMeal,\"strMeal\":individualRecipe.strMeal,\"strCategory\":individualRecipe.strCategory,\"strInstructions\":individualRecipe.strInstructions,\"strMealThumb\":individualRecipe.strMealThumb,\"strYoutube\":individualRecipe.strYoutube,\"strIngredient1\":individualRecipe.strIngredient1,\"strIngredient2\":individualRecipe.strIngredient2,\"strIngredient3\":individualRecipe.strIngredient3,\"strIngredient4\":individualRecipe.strIngredient4,\"strIngredient5\":individualRecipe.strIngredient5,\"strIngredient6\":individualRecipe.strIngredient6,\"strIngredient7\":individualRecipe.strIngredient7,\"strIngredient8\":individualRecipe.strIngredient8,\"strIngredient9\":individualRecipe.strIngredient9,\"strIngredient10\":individualRecipe.strIngredient10,\"strIngredient11\":individualRecipe.strIngredient11,\"strIngredient12\":individualRecipe.strIngredient12,\"strIngredient13\":individualRecipe.strIngredient13,\"strIngredient14\":individualRecipe.strIngredient14,\"strIngredient15\":individualRecipe.strIngredient15,\"strMeasure1\":individualRecipe.strMeasure1,\"strMeasure2\":individualRecipe.strMeasure2,\"strMeasure3\":individualRecipe.strMeasure3,\"strMeasure4\":individualRecipe.strMeasure4,\"strMeasure5\":individualRecipe.strMeasure5,\"strMeasure6\":individualRecipe.strMeasure6,\"strMeasure7\":individualRecipe.strMeasure7,\"strMeasure8\":individualRecipe.strMeasure8,\"strMeasure9\":individualRecipe.strMeasure9,\"strMeasure10\":individualRecipe.strMeasure10,\"strMeasure11\":individualRecipe.strMeasure11,\"strMeasure12\":individualRecipe.strMeasure12};fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/meals\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(newMeal)}).then(function(resp){return resp.json();}).then(function(newMeal){return setFaveMeals([newMeal].concat(_toConsumableArray(faveMeals)));});history.push(\"/favorites\");}function handleDelete(meal){fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/meals/\").concat(meal.id),{method:\"DELETE\"}).then(function(){return setFaveMeals(faveMeals.filter(function(oneMeal){return oneMeal.id!==meal.id;}));});}function handleVideoClick(){setShowVideo(!showVideo);}function handleShowRecipe(){setShowRecipe(!showRecipe);}function handleClickForNewPic(){fetch(\"https://www.themealdb.com/api/json/v1/1/random.php\").then(function(resp){return resp.json();}).then(function(recipe){return setRandomRecipe(recipe);});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/add\",children:/*#__PURE__*/_jsx(Add,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/favorites\",children:/*#__PURE__*/_jsx(Favorites,{showVideo:showVideo,handleDelete:handleDelete,faveMeals:faveMeals})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(Home,{handleClickForNewPic:handleClickForNewPic,showRecipe:showRecipe,showVideo:showVideo,handleAddToFavorite:handleAddToFavorite,handleShowRecipe:handleShowRecipe,handleVideoClick:handleVideoClick,individualRecipe:randomRecipe[\"meals\"][0]})})]})]});}export default App;","map":{"version":3,"sources":["/Users/williamgotterer/Development/code/Mod2/my-react-project/src/components/App.js"],"names":["React","useEffect","useState","Route","Switch","useHistory","Home","Add","Favorites","NavBar","App","randomRecipe","setRandomRecipe","faveMeals","setFaveMeals","showVideo","setShowVideo","showRecipe","setShowRecipe","history","console","log","fetch","then","resp","json","recipe","process","env","REACT_APP_API_URL","savedFaves","handleAddToFavorite","individualRecipe","newMeal","idMeal","strMeal","strCategory","strInstructions","strMealThumb","strYoutube","strIngredient1","strIngredient2","strIngredient3","strIngredient4","strIngredient5","strIngredient6","strIngredient7","strIngredient8","strIngredient9","strIngredient10","strIngredient11","strIngredient12","strIngredient13","strIngredient14","strIngredient15","strMeasure1","strMeasure2","strMeasure3","strMeasure4","strMeasure5","strMeasure6","strMeasure7","strMeasure8","strMeasure9","strMeasure10","strMeasure11","strMeasure12","method","headers","body","JSON","stringify","push","handleDelete","meal","id","filter","oneMeal","handleVideoClick","handleShowRecipe","handleClickForNewPic"],"mappings":"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","sourcesContent":["\nimport React, {useEffect, useState} from \"react\";\nimport { Route, Switch, useHistory } from \"react-router-dom\";\nimport Home from \"./Home\";\nimport Add from \"./Add\";\nimport Favorites from \"./Favorites\";\nimport NavBar from \"./NavBar\";\n\nfunction App() {\n  const [randomRecipe, setRandomRecipe] = useState({\"meals\":[{}]})\n  const [faveMeals, setFaveMeals] = useState([])\n  const [showVideo, setShowVideo] = useState(false)\n  const [showRecipe, setShowRecipe] = useState(false)\n  // const [savedRecipe, setSavedRecipe] = useState([])\n  \n  const history = useHistory()\n  console.log(history)\n\n  useEffect(() => {\n    fetch(\"https://www.themealdb.com/api/json/v1/1/random.php\")\n    .then((resp)=>resp.json())\n    .then((recipe)=> setRandomRecipe(recipe))\n  }, [])\n\n\n  useEffect(() => {\n    console.log(process.env.REACT_APP_API_URL)\n    fetch(`${process.env.REACT_APP_API_URL}/meals`)\n    .then((resp)=>resp.json())\n    .then((savedFaves)=>setFaveMeals(savedFaves))\n  }, [])\n\n  \n\n  function handleAddToFavorite(){\n    const individualRecipe = randomRecipe[\"meals\"][0]\n    const newMeal = {\n      \"idMeal\": individualRecipe.idMeal,\n      \"strMeal\": individualRecipe.strMeal,\n      \"strCategory\": individualRecipe.strCategory,\n      \"strInstructions\": individualRecipe.strInstructions,\n      \"strMealThumb\": individualRecipe.strMealThumb,\n      \"strYoutube\": individualRecipe.strYoutube,\n      \"strIngredient1\": individualRecipe.strIngredient1,\n      \"strIngredient2\": individualRecipe.strIngredient2,\n      \"strIngredient3\": individualRecipe.strIngredient3,\n      \"strIngredient4\": individualRecipe.strIngredient4,\n      \"strIngredient5\": individualRecipe.strIngredient5,\n      \"strIngredient6\": individualRecipe.strIngredient6,\n      \"strIngredient7\": individualRecipe.strIngredient7,\n      \"strIngredient8\": individualRecipe.strIngredient8,\n      \"strIngredient9\": individualRecipe.strIngredient9,\n      \"strIngredient10\": individualRecipe.strIngredient10,\n      \"strIngredient11\": individualRecipe.strIngredient11,\n      \"strIngredient12\": individualRecipe.strIngredient12,\n      \"strIngredient13\": individualRecipe.strIngredient13,\n      \"strIngredient14\": individualRecipe.strIngredient14,\n      \"strIngredient15\": individualRecipe.strIngredient15,\n      \"strMeasure1\": individualRecipe.strMeasure1,\n      \"strMeasure2\": individualRecipe.strMeasure2,\n      \"strMeasure3\": individualRecipe.strMeasure3,\n      \"strMeasure4\": individualRecipe.strMeasure4,\n      \"strMeasure5\": individualRecipe.strMeasure5,\n      \"strMeasure6\": individualRecipe.strMeasure6,\n      \"strMeasure7\": individualRecipe.strMeasure7,\n      \"strMeasure8\": individualRecipe.strMeasure8,\n      \"strMeasure9\": individualRecipe.strMeasure9,\n      \"strMeasure10\": individualRecipe.strMeasure10,\n      \"strMeasure11\": individualRecipe.strMeasure11,\n      \"strMeasure12\": individualRecipe.strMeasure12,\n  }\n  \n    fetch(`${process.env.REACT_APP_API_URL}/meals`, {\n      method:\"POST\",\n      headers:{\n        \"Content-Type\": \"application/json\",\n      },\n      body:JSON.stringify(newMeal)\n    })\n    .then((resp)=>resp.json())\n    .then((newMeal)=>setFaveMeals([newMeal, ...faveMeals]))\n    history.push(`/favorites`)\n  }\n\n  function handleDelete(meal){\n    fetch(`${process.env.REACT_APP_API_URL}/meals/${meal.id}`, {\n        method: \"DELETE\"\n    })\n    .then(()=>setFaveMeals(faveMeals.filter((oneMeal)=>oneMeal.id !== meal.id)))\n\n}\n  \n  function handleVideoClick(){\n    setShowVideo(!showVideo)\n  }\n\n  function handleShowRecipe(){\n    setShowRecipe(!showRecipe)\n  }\n\n  function handleClickForNewPic(){\n    fetch(\"https://www.themealdb.com/api/json/v1/1/random.php\")\n    .then((resp)=>resp.json())\n    .then((recipe)=> setRandomRecipe(recipe))\n  }\n\n  return (\n    <div>\n      <NavBar />\n      <Switch>\n        <Route exact path=\"/add\">\n          <Add />\n        </Route>\n        <Route exact path=\"/favorites\">\n          <Favorites showVideo={showVideo} handleDelete={handleDelete} faveMeals={faveMeals} />\n        </Route>\n        <Route exact path=\"/\">\n          <Home handleClickForNewPic={handleClickForNewPic} showRecipe={showRecipe} showVideo={showVideo} handleAddToFavorite={handleAddToFavorite} handleShowRecipe={handleShowRecipe} handleVideoClick={handleVideoClick} individualRecipe={randomRecipe[\"meals\"][0]}/>\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}