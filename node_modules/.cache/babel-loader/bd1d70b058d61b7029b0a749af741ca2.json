{"ast":null,"code":"import _toConsumableArray from\"/Users/williamgotterer/Development/code/Mod2/my-react-project/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"/Users/williamgotterer/Development/code/Mod2/my-react-project/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/williamgotterer/Development/code/Mod2/my-react-project/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/williamgotterer/Development/code/Mod2/my-react-project/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// src/components/About.js\nimport React from\"react\";import{useState,useEffect}from\"react\";import RecipeCard from\"./RecipeCard\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Add(){// const [addRecipe, setAddRecipe] = useState([])\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),allRecipes=_useState2[0],setAllRecipes=_useState2[1];var _useState3=useState({\"strMeal\":\"\",\"strIngredients\":\"\",\"strInstructions\":\"\",\"strMealThumb\":\"\"}),_useState4=_slicedToArray(_useState3,2),formState=_useState4[0],setFormSate=_useState4[1];function handleChange(e){var name=e.target.name;var value=e.target.value;setFormSate(_objectSpread(_objectSpread({},formState),{},_defineProperty({},name,value)));}function handleSubmit(e){e.preventDefault();//console.log(e.target.image.value)\nvar newMeal={\"strMeal\":e.target.strMeal.value,\"strIngredients\":e.target.strIngredients.value,\"strInstructions\":e.target.strInstructions.value,\"strMealThumb\":e.target.strMealThumb.value};fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/recipes\"),{method:'POST',headers:{\"Content-type\":\"application/json\"},body:JSON.stringify(newMeal)}).then(function(response){return response.json();}).then(function(data){return setAllRecipes([data].concat(_toConsumableArray(allRecipes)));});setFormSate({\"strMeal\":\"\",\"strIngredients\":\"\",\"strInstructions\":\"\",\"strMealThumb\":\"\"});}useEffect(function(){fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/recipes\")).then(function(response){return response.json();}).then(function(data){return setAllRecipes(data);});},[]);function deleteRecipe(recipe){fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/recipes/\").concat(recipe.id),{method:\"DELETE\"}).then(function(){return setAllRecipes(allRecipes.filter(function(meal){return meal.id!==recipe.id;}));});}return/*#__PURE__*/_jsxs(\"div\",{className:\"new-recipe-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"New Recipe\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,value:formState.strMeal,type:\"text\",name:\"strMeal\",placeholder:\"Recipe name\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,value:formState.strMealThumb,type:\"text\",name:\"strMealThumb\",placeholder:\"Image URL\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,value:formState.strIngredients,type:\"text\",name:\"strIngredients\",placeholder:\"Ingredients\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,value:formState.strInstructions,type:\"text\",name:\"strInstructions\",placeholder:\"Instructions\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\" Add Recipe\"})]}),allRecipes.map(function(recipe){return/*#__PURE__*/_jsx(RecipeCard,{recipe:recipe,deleteRecipe:deleteRecipe});})]});}export default Add;","map":{"version":3,"sources":["/Users/williamgotterer/Development/code/Mod2/my-react-project/src/components/Add.js"],"names":["React","useState","useEffect","RecipeCard","Add","allRecipes","setAllRecipes","formState","setFormSate","handleChange","e","name","target","value","handleSubmit","preventDefault","newMeal","strMeal","strIngredients","strInstructions","strMealThumb","fetch","process","env","REACT_APP_API_URL","method","headers","body","JSON","stringify","then","response","json","data","deleteRecipe","recipe","id","filter","meal","map"],"mappings":"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","sourcesContent":["// src/components/About.js\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport RecipeCard from \"./RecipeCard\"\n\nfunction Add() {\n\n// const [addRecipe, setAddRecipe] = useState([])\nconst [allRecipes, setAllRecipes] = useState([])\nconst [formState, setFormSate] = useState({\n     \"strMeal\": \"\",\n     \"strIngredients\": \"\",\n     \"strInstructions\": \"\",\n     \"strMealThumb\": \"\"\n})\n\nfunction handleChange(e){\n  const name = e.target.name\n  let value = e.target.value\n\n  setFormSate({\n    ...formState,\n    [name]:value\n  })\n}\n\n\n\nfunction handleSubmit(e){\n  e.preventDefault()\n  //console.log(e.target.image.value)\nlet newMeal = {\n     \"strMeal\": e.target.strMeal.value,\n     \"strIngredients\": e.target.strIngredients.value,\n     \"strInstructions\": e.target.strInstructions.value,\n     \"strMealThumb\": e.target.strMealThumb.value,\n      }\n      fetch(`${process.env.REACT_APP_API_URL}/recipes`, {\n        method:'POST',\n        headers:  {\n          \"Content-type\": \"application/json\"\n        },\n        body: JSON.stringify(newMeal)\n      })\n      .then(response => response.json())\n      .then(data => setAllRecipes([data, ...allRecipes]))\n      setFormSate({\n        \"strMeal\": \"\",\n        \"strIngredients\": \"\",\n        \"strInstructions\": \"\",\n        \"strMealThumb\": \"\"\n   })\n      \n    }\n\n\n     \n     useEffect(() => {\n        fetch(`${process.env.REACT_APP_API_URL}/recipes`)\n        .then(response => response.json())\n        .then(data => setAllRecipes(data))\n     }, [])\n\n    \n     \n     function deleteRecipe(recipe){\n      fetch(`${process.env.REACT_APP_API_URL}/recipes/${recipe.id}`, {\n        method: \"DELETE\"\n      })\n      .then(()=> setAllRecipes(allRecipes.filter((meal)=> meal.id !== recipe.id)))\n  }\n      \n\n return (\n  <div className=\"new-recipe-form\">\n    <h2>New Recipe</h2>\n    <form  onSubmit={handleSubmit}>\n      <input onChange={handleChange} value={formState.strMeal} type=\"text\" name=\"strMeal\" placeholder=\"Recipe name\" />\n      <input onChange={handleChange} value={formState.strMealThumb} type=\"text\" name=\"strMealThumb\" placeholder=\"Image URL\" />\n      <input onChange={handleChange} value={formState.strIngredients} type=\"text\" name=\"strIngredients\" placeholder=\"Ingredients\"/>\n      <input onChange={handleChange} value={formState.strInstructions} type=\"text\" name=\"strInstructions\"  placeholder=\"Instructions\" />\n      <button  type=\"submit\"> Add Recipe</button>\n    </form>\n  {allRecipes.map((recipe)=> <RecipeCard recipe={recipe} deleteRecipe={deleteRecipe}/>)}\n  </div>\n)\n}\nexport default Add;\n"]},"metadata":{},"sourceType":"module"}